---
layout: post
title: "NIO：缓冲区"
date: 2017-09-20 00:29:00 +0800
categories: nio
tag: [nio,java]
---
* content
{:toc}

《Java NIO》学习笔记，缓冲区。

---

<!-- more -->
<!-- TOC -->

- [1. 概述](#1-概述)


<!-- /TOC -->

#   1. 概述

* 一个Buffer对象是固定数量的数据的容器
* 对于每个非布􏸳原始数据类型都有一个缓冲区类
* 尽管缓冲区作用于它们存储的原始数据类型, 但缓冲区􏲎分倾向于处理字节。
* 非字节缓冲区可以在后台执行从字节或到字节的转换
<br>
<br>

缓冲区的工作与通道紧密联系:
* 通道是 I/O 传输发生时通过的入口
* 而缓冲区是这些数 据传输的来源或目标
    * 对于离开缓冲区的传输, 传递出去的数据被置于一个缓冲区, 被传送到通道.
    * 对于传回缓冲区的传输,一个通道将数据放置在您所􏸯供的缓冲区中。

---

#   2. 基础

* 概念上,缓冲区是包在一个对象内的基本数据元素数组
* Buffer 类相比一个简单数组的优点 是它将关于数据的数据内容和信息包含在一个单一的对象中
<br>
<br>

属性：
* 容量(Capacity)：缓冲区能够容纳的数据元素的最大数量。这一容量在缓冲区创建时被设定,并且􏹃远不能被改变。
* 上界(Limit)：缓冲区的第一个不能被读或写的元素。或者说,缓冲区中现存元素的计数。
* 位置(Position)：下一个要被读或写的元素的索引。位置会自动由相应的 get()和 put()函数更新。
* 标记(Mark)：一个备忘位置。调用mark()来设定mark=postion。调用reset()设定position= mark。标记在设定前是未定义的(undefined)。

关系:

    0 <= mark <= position <= limit <= capacity